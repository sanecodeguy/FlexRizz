<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlexRizz v4 - UI Preview</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Preview-only helper styles */
        .preview-banner {
            background: var(--accent);
            color: #fff;
            text-align: center;
            padding: 10px;
            font-size: 0.8125rem;
            font-weight: 600;
            letter-spacing: 0.02em;
            font-family: var(--font);
        }
        .preview-banner span { opacity: 0.75; font-weight: 400; }

        /* Simulate portal tab panes (hidden by default) */
        .tab-pane { display: none; }
        .tab-pane.active { display: block; }

        /* Simulated portal body */
        .m-portlet__body {
            padding: var(--sp-lg);
            color: var(--text-2);
            font-size: 0.875rem;
            font-family: var(--font);
        }

        .m-portlet__body p {
            margin: 0;
            padding: var(--sp-md);
            background: var(--surface-2);
            border-radius: var(--radius-sm);
            border: 1px solid var(--border);
        }
    </style>
</head>
<body class="dark-mode">

<div class="preview-banner">
    FlexRizz v4 UI Preview <span>&mdash; This page simulates the FlexStudent portal structure for visual testing</span>
</div>

<!-- Simulated portal portlet structure -->
<div class="m-portlet">

    <!-- Header with title and course tabs -->
    <div class="m-portlet__head">
        <div class="m-portlet__head-caption">
            <h3 class="m-portlet__head-title">Student Marks</h3>
        </div>
        <div class="m-portlet__head-tools">
            <ul class="nav nav-tabs">
                <li class="nav-item"><a class="nav-link m-tabs__link active" href="#CS1002">CS1002</a></li>
                <li class="nav-item"><a class="nav-link m-tabs__link" href="#MT1003">MT1003</a></li>
                <li class="nav-item"><a class="nav-link m-tabs__link" href="#NS1001">NS1001</a></li>
                <li class="nav-item"><a class="nav-link m-tabs__link" href="#CL1002">CL1002</a></li>
                <li class="nav-item"><a class="nav-link m-tabs__link" href="#SS1012">SS1012</a></li>
                <li class="nav-item"><a class="nav-link m-tabs__link" href="#SS1013">SS1013</a></li>
            </ul>
        </div>
    </div>

    <!-- Simulated toggle container (injected by extension) -->
    <div class="toggle-container">
        <!-- Semester selector -->
        <div class="semester-selector">
            <span style="color:var(--text-2);font-size:0.8125rem;font-weight:500;">Semester</span>
            <button class="semester-btn" disabled>&minus;</button>
            <span style="min-width:24px;text-align:center;font-weight:700;color:var(--accent);font-size:0.9375rem;">1</span>
            <button class="semester-btn">+</button>
        </div>

        <!-- Dark mode toggle -->
        <div class="dark-mode-toggle-container">
            <span class="dark-mode-toggle-label">Dark</span>
            <label class="ios-toggle">
                <input type="checkbox" id="darkToggle" checked>
                <span class="ios-toggle-slider"></span>
            </label>
        </div>

        <!-- Action buttons -->
        <button class="modern-btn">Show Transcript <span class="status-indicator status-off"></span></button>
        <button class="modern-btn">Rounding: ON <span class="status-indicator status-on"></span></button>
        <button class="modern-btn">Edit Marks <span class="status-indicator status-off"></span></button>
        <button class="modern-btn">Custom Grades <span class="status-indicator status-off"></span></button>
        <button class="modern-btn">Fix Weightage <span class="status-indicator status-off"></span></button>
        <button class="modern-btn">Auto Fix</button>
        <button class="modern-btn">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            Download PDF
        </button>
    </div>

    <!-- Simulated transcript table (card-row hybrid) -->
    <table id="course-data-table">
        <thead>
            <tr>
                <th>Course</th>
                <th>Type</th>
                <th>Avg</th>
                <th>Obtained</th>
                <th>Total</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>PF</td>
                <td><span style="display:inline-block;padding:2px 8px;border-radius:var(--radius-pill);font-size:0.6875rem;font-weight:600;letter-spacing:0.02em;background:rgba(96,165,250,0.12);color:var(--grade-B)">Absolute</span></td>
                <td style="color:var(--text-2);">42.35</td>
                <td style="font-weight:600;">88.00</td>
                <td style="color:var(--text-2);">100.00</td>
                <td class="grade-A" style="font-weight:700;font-size:0.9375rem;">A</td>
            </tr>
            <tr>
                <td>Calculus</td>
                <td><span style="display:inline-block;padding:2px 8px;border-radius:var(--radius-pill);font-size:0.6875rem;font-weight:600;letter-spacing:0.02em;background:rgba(251,191,36,0.12);color:var(--grade-C)">Relative</span></td>
                <td style="color:var(--text-2);">35.12</td>
                <td style="font-weight:600;">72.00</td>
                <td style="color:var(--text-2);">100.00</td>
                <td class="grade-Bplus" style="font-weight:700;font-size:0.9375rem;">B+</td>
            </tr>
            <tr>
                <td>Applied Physics</td>
                <td><span style="display:inline-block;padding:2px 8px;border-radius:var(--radius-pill);font-size:0.6875rem;font-weight:600;letter-spacing:0.02em;background:rgba(251,191,36,0.12);color:var(--grade-C)">Relative</span></td>
                <td style="color:var(--text-2);">38.90</td>
                <td style="font-weight:600;">65.00</td>
                <td style="color:var(--text-2);">100.00</td>
                <td class="grade-Bminus" style="font-weight:700;font-size:0.9375rem;">B-</td>
            </tr>
            <tr>
                <td>PF Lab</td>
                <td><span style="display:inline-block;padding:2px 8px;border-radius:var(--radius-pill);font-size:0.6875rem;font-weight:600;letter-spacing:0.02em;background:rgba(96,165,250,0.12);color:var(--grade-B)">Absolute</span></td>
                <td style="color:var(--text-2);">18.50</td>
                <td style="font-weight:600;">95.00</td>
                <td style="color:var(--text-2);">100.00</td>
                <td class="grade-Aplus" style="font-weight:700;font-size:0.9375rem;">A+</td>
            </tr>
            <tr>
                <td>Functional English</td>
                <td><span style="display:inline-block;padding:2px 8px;border-radius:var(--radius-pill);font-size:0.6875rem;font-weight:600;letter-spacing:0.02em;background:rgba(251,191,36,0.12);color:var(--grade-C)">Relative</span></td>
                <td style="color:var(--text-2);">30.22</td>
                <td style="font-weight:600;">58.00</td>
                <td style="color:var(--text-2);">100.00</td>
                <td class="grade-Cplus" style="font-weight:700;font-size:0.9375rem;">C+</td>
            </tr>
            <tr>
                <td>ICP</td>
                <td><span style="display:inline-block;padding:2px 8px;border-radius:var(--radius-pill);font-size:0.6875rem;font-weight:600;letter-spacing:0.02em;background:rgba(251,191,36,0.12);color:var(--grade-C)">Relative</span></td>
                <td style="color:var(--text-2);">41.00</td>
                <td style="font-weight:600;">45.00</td>
                <td style="color:var(--text-2);">100.00</td>
                <td class="grade-F" style="font-weight:700;font-size:0.9375rem;">F</td>
            </tr>
            <!-- SGPA row -->
            <tr class="sgpa-row">
                <td colspan="4" style="text-align:left;">
                    <span style="color:var(--text-2);font-size:0.8125rem;">A project by @doubleroote
                        <svg viewBox="0 0 24 24" aria-label="Verified account" style="color:var(--accent);width:0.9em;height:0.9em;margin-left:2px;vertical-align:middle;fill:currentColor;">
                            <g><path d="M22.25 12c0-1.43-.88-2.67-2.19-3.34.46-1.39.2-2.9-.81-3.91s-2.52-1.27-3.91-.81c-.66-1.31-1.91-2.19-3.34-2.19s-2.67.88-3.33 2.19c-1.4-.46-2.91-.2-3.92.81s-1.26 2.52-.8 3.91c-1.31.67-2.2 1.91-2.2 3.34s.89 2.67 2.2 3.34c-.46 1.39-.21 2.9.8 3.91s-2.52 1.26-3.91.81c.67 1.31 1.91 2.19 3.34 2.19s2.68-.88 3.34-2.19c1.39.45 2.9.2 3.91-.81s1.27-2.52.81-3.91c1.31-.67 2.19-1.91 2.19-3.34zm-11.71 4.2L6.8 12.46l1.41-1.42 2.26 2.26 4.8-5.23 1.47 1.36-6.2 6.77z"></path></g>
                        </svg>
                    </span>
                </td>
                <td style="text-align:right;font-weight:700;color:var(--accent);">SGPA</td>
                <td style="font-weight:700;font-size:1.15em;color:var(--accent);">2.95</td>
            </tr>
        </tbody>
    </table>

    <!-- Simulated portal body -->
    <div class="m-portlet__body">
        <p>This area represents the original FlexStudent portal content below the injected extension UI.</p>
    </div>
</div>

<!-- Simulated Fix Weightage modal (shown on demand) -->
<div id="weightage-modal-demo" style="display:none;">
    <div class="request-course-modal" style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--surface-1);border:1px solid var(--border);padding:24px;box-shadow:var(--shadow-lg);z-index:1000;width:min(90vw,480px);border-radius:var(--radius);max-height:80vh;overflow-y:auto;">
        <h3 style="margin:0 0 8px 0;color:var(--accent);font-size:1.1rem;font-weight:700;">Fix Weightage - PF</h3>
        <p style="margin:0 0 16px 0;color:var(--text-3);font-size:0.8125rem;">
            Set custom weightages for CS1002. Total should be 100%.
        </p>
        <div class="form-group"><label>Sessional I</label><input type="number" value="15"></div>
        <div class="form-group"><label>Sessional II</label><input type="number" value="15"></div>
        <div class="form-group"><label>Assignments</label><input type="number" value="10"></div>
        <div class="form-group"><label>Quizzes</label><input type="number" value="10"></div>
        <div class="form-group"><label>Project</label><input type="number" value="10"></div>
        <div class="form-group"><label>Lab Work</label><input type="number" value="0"></div>
        <div class="form-group"><label>Final Exam</label><input type="number" value="40"></div>
        <div class="weightage-summary">
            <div>Current Total: <span class="weightage-total" style="color:var(--success);">100</span>/100</div>
        </div>
        <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:16px;">
            <button class="modern-btn secondary" onclick="document.getElementById('weightage-modal-demo').style.display='none'">Cancel</button>
            <button class="modern-btn danger">Reset</button>
            <button class="modern-btn success">Save</button>
        </div>
    </div>
    <div style="position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:999;backdrop-filter:blur(4px);" onclick="document.getElementById('weightage-modal-demo').style.display='none'"></div>
</div>

<script>
    // Dark mode toggle
    document.getElementById('darkToggle').addEventListener('change', function() {
        document.body.classList.toggle('dark-mode', this.checked);
    });

    // Tab switching demo
    document.querySelectorAll('.nav-link.m-tabs__link').forEach(tab => {
        tab.addEventListener('click', (e) => {
            e.preventDefault();
            document.querySelectorAll('.nav-link.m-tabs__link').forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
        });
    });

    // Modal demo on "Fix Weightage" button
    document.querySelectorAll('.modern-btn').forEach(btn => {
        if (btn.textContent.includes('Fix Weightage')) {
            btn.addEventListener('click', () => {
                document.getElementById('weightage-modal-demo').style.display = 'block';
            });
        }
    });
</script>

</body>
</html>
